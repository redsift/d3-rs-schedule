<html>
  <head>
    <style>
      
    body {
      margin: 0px;
    }
    
    svg {
      background-color: antiquewhite;
      margin: 1em;
    }

    </style>    
  </head>
  <body>
    <div id="elm"></div>
        
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="/d3-rs-schedule.umd-es2015.js"></script>
    <script>

    'use strict';

    d3.select('#elm').call(d3_rs_schedule.html('empty'));


    d3.select('#elm').call(d3_rs_schedule.html('dark').theme('dark'));
    
    var min10 = 10 * 60 * 1000;
    
    let i = 0;
    
    let timer = setInterval(function() {
      i++;
      let node = d3.select('#elm').datum([{ start:1469723575941, 
                                end:1469723575941 + (min10 * 4), 
                                summary: 'First text', 
                                status: 'some' },
                                { start:1469723575941, 
                                end:1469723575941 + (min10 * 4), 
                                summary: 'Second text', 
                                status: 'else' },
                                { start: 1469726870991,
                                  end:1469726870991 + (min10 * i),
                                  summary: 'Some other long text that will not fit',
                                  status: 'proposed'
                                }
                                ]);
        if (i > 1) {
          node = node.transition();
        }                        
        node.call(d3_rs_schedule.html('basic'));   
      if (i>8) {
        clearInterval(timer);
      }                             
    }, 1000);
    
    d3.select('#elm').datum([{ start:1469723575941, 
                               end:1469723575941 + (min10 * 4), 
                               summary: 'First text', 
                               status: 'some' },
                              { start:1469723575941 + (min10 * 1), 
                               end:1469723575941 + (min10 * 5), 
                               summary: 'Second text', 
                               status: 'else' },
                              { start: 1469726870991,
                                end:1469726870991 + (min10 * 4),
                                summary: 'Some other long text that will not fit and this should now elllllllls',
                                status: 'proposed'
                              }
                              ])
                              .call(d3_rs_schedule.html('basic-dark').indexFormat('%H:%M').theme('dark'));   
    
    </script>
  </body>
</html>
